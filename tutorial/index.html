<html>
<head>
    <title></title>
    <script type="text/javascript" src="../src/webglue.js"></script>
</head>
<body style="height:100%;padding:0;border:0;margin:0">
<table style="height:100%;width:100%">
  <tr>
    <td style="width:320px;vertical-align:top">
      <select onchange="load(this.value)">
        <option>lesson01.js</option>
        <option>lesson02.js</option>
        <option>lesson03.js</option>
        <option>lesson04.js</option>
        <option>lesson05.js</option>
        <option>lesson06.js</option>
        <option>lesson07.js</option>
        <option>lesson08.js</option>
      </select> 
      <button onclick="run()">Restart</button>
      <p></p>
      <canvas id="canvas" width="320" height="240"></canvas>
    </td>
    <td>
      <textarea id="textarea" style="width:100%;height:100%;font-family:monospace;"></textarea>
    </td>
  </tr>
</table>
<p></p>
<script type="text/javascript">
  var script = null;
  var textArea = document.getElementById('textarea');
  function run() {
    if (script != null) {
      document.body.removeChild(script);
    }
    script = document.createElement("script");
    script.type = "text/javascript";
    document.body.appendChild(script);
    script.textContent = textArea.value;
  }
  function load(name) {
    var xmlHttp = new XMLHttpRequest();
    textArea.value = "Loading " + name;
    xmlHttp.open('GET', name, true);
    xmlHttp.onreadystatechange = function () {
      if (xmlHttp.readyState == 4) {
        textArea.value = xmlHttp.responseText;
        run();
      }
    };
    xmlHttp.send(null);
  }
  /*  
  } */
  load("lesson01.js");
</script>
</body>
</html>
